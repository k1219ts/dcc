import copy

def merge_no_duplicates(src1, src2):
    tmp = set(src1).union(set(src2))
    return sorted(list(tmp))

def deepupdate(dst, src):
    for k, v in src.items():
        if type(v) == list:
            if not k in dst:
                dst[k] = copy.deepcopy(v)
            else:
                dst[k] = merge_no_duplicates(dst[k], v)

        elif type(v) == dict:
            if not k in dst:
                dst[k] = copy.deepcopy(v)
            else:
                deepupdate(dst[k], v)

        elif type(v) == set:
            if not k in dst:
                dst[k] = v.copy()
            else:
                dst[k].update(v.copy())

        else:
            dst[k] = copy.copy(v)
