# Dexter Naming Rule Example
# Legends:
#    {} = environment variable key
#    () = flag key
#    <> = product key
#
# SAMPLE EXR RENDER
# /show/log/shot/ASB/ASB_0010/comp/retime/render/exr/ASB_0010_retime_v001/ASB_0010_retime_v001.1011.exr

# global:
__flag__:
    USERNAME : 
        __default__: '{USER}'
        __pattern__: '[a-zA-Z0-9]+'
    EXT : 
        __default__: 'exr'
        __pattern__: '[a-zA-Z0-9]+'
        
    VER : 
        __default__: 'v001'
        __pattern__: 'v[0-9]{3}'
        
    DESC : 
        __default__: 'desc'
        __pattern__: '[a-zA-Z0-9_]+'
    
    FRAME : 
        __default__: '%04d'
        __pattern__: '\%04d|[0-9]{4}|\#+'
#------------------------------------------------------------------------------     
    PROJECT : 
        __default__: 'PROJECT_NAME'
        __pattern__: '[a-zA-Z0-9]+'

    SEQUENCE : 
        __default__: 'SEQUENCE_NAME'
        __pattern__: '[a-zA-Z0-9]+'

    SHOT : 
        __default__: 'SEQUENCE+_+NUMBER'
        __pattern__: '[A-Z0-9]+_[0-9]+'

    TEAM : 
        __default__: 'comp'
        __pattern__: '[a-zA-Z0-9]+'

    TASK : 
        __default__: 'comp'
        __pattern__: '[a-zA-Z0-9]+'

    TIMESTAMP :
        __default__: '180101.010101'
        __pattern__: '[0-9]+.[0-9]+'


__product__: 
    shot_path: '/show/(PROJECT)/shot/(SEQUENCE)/(SHOT)'
    home_path: '/home/(USERNAME)'
    path: '<home_path>/temp'
    

__child__: 
    # image files; e.g. plates, render images, etc
    Image: 
        __product__:
            path: '<home_path>/(DESC)_(VER).(EXT)'
        
        __child__:
            # /show/log/shot/ASB/ASB_0010/comp/retime/render/exr/ASB_0010_retime_v001/ASB_0010_retime_v001.1011.exr
            EXR:
                __flag__:
                    EXT : 
                        __default__: 'jpg'
                __product__:
                    path: '(TEAM)/(TASK)/render/exr/(SHOT)_(TASK)_(VER)/(SHOT)_(TASK)_(VER).(FRAME).(EXT)'

            JPG:
                __flag__:
                    EXT : 
                        __default__: 'jpg'
                __product__:
                    path: '(TEAM)/(TASK)/render/jpg/(SHOT)_(TASK)_[value script_version]/(SHOT)_(TASK)_[value script_version].(FRAME).(EXT)'
                    absPath: '(TEAM)/(TASK)/render/jpg/(SHOT)_(TASK)_(VER)/(SHOT)_(TASK)_(VER).(FRAME).(EXT)'

            JPG_FOR_OUT:
                __flag__:
                    EXT : 
                        __default__: 'jpg'
                __product__:
                    path: '(TEAM)/(TASK)/render/jpg/(SHOT)_(TASK)_[value script_version]_OUT/(SHOT)_(TASK)_[value script_version].OUT.(FRAME).(EXT)'
                    absPath: '(TEAM)/(TASK)/render/jpg/(SHOT)_(TASK)_(VER)_OUT/(SHOT)_(TASK)_(VER).OUT.(FRAME).(EXT)'
                                        

            MOV:
                __flag__:
                    EXT : 
                        __default__: 'mov'
                __product__:
                    path: '(TEAM)/(TASK)/render/jpg/(SHOT)_(TASK)_(VER).(EXT)'
                    

            # image.sequece: images with frame number
            Sequence:
                __product__:
                    path: '(DESC)_(VER).(FRAME).(EXT)'
            
            # image.map: uv map files
            Map: 
                __flag__:
                    UDIM : 
                        __default__: '1001'
                        __pattern__: '1[0-9]{3}'
                        
                __product__:
                    path: '<home_path>/(DESC)_(VER).(UDIM).(EXT)'
    NK:
        __flag__:
            EXT :
                __default__: 'nk'
                __pattern__: '[a-zA-Z0-9]+'

            DESC :
                __default__: '_desc_'
                
        __product__:
            #/show/log/shot/SWR/SWR_0010/comp/comp/script/SWR_0010_comp_v040.nk
            path: '<shot_path>/(TEAM)/(TASK)/script/(SHOT)_(TASK)_(VER).(EXT)'
            spoolPath: '<shot_path>/(TEAM)/(TASK)/script/render_script/(SHOT)_(TASK)_(VER)_(TIMESTAMP).(EXT)'
              
    # 3d geometry files
    Geo:
        __flag__:
            EXT : 
                __default__: 'abc'
        
        __product__:
            path: '<home_path>/(DESC)_(VER).(EXT)'
        
        __child__:
            # image.sequece: images with frame number
            Sequence:
                __product__:
                    path: '<home_path>/(DESC)_(VER).(FRAME).(EXT)'
    
    # renderfarm job name
    Farm: 
        __flag__:
            DEPT : 
                __default__: '2D'
                __pattern__: '[a-zA-Z0-9]{2,4}'
        
        __product__:
            jobname: '(DEPT):(DESC):(VER)'
    
    
    

    
    
