# cp yaml.lang /usr/share/gtksourceview-3.0/language-specs
from dxname import rulebook
import pprint

def setName():
    root = rulebook.Coder()
    root.load_rulebook('/netapp/backstage/pub/lib/python_lib/dxname/name_for_publish.yaml')
    
    root.flag['PROJECT'] = 'real'
    root.flag['SEQUENCE'] = 'CLU'
    root.flag['SHOT'] = 'CLU_0010'

    print root.Camera.flag['DESC']
    print root.Camera.product['path']
    print root.Distortion.product['path']
    print root.Imageplane.product['path']


    root.Geocache.flag['NAMESPACE'] = 'penguin1'
    root.Geocache.flag['ASSET'] = 'penguin'
    print root.Geocache.MID.product['path']
    print root.Geocache.BBOX.product['path']


    root.Zenn.flag['NAMESPACE'] = 'wukong'
    root.Zenn.flag['ASSET'] = 'wukong'
    print root.Zenn.product['path']

def parserName():
    root = rulebook.Coder()
    root.load_rulebook('/netapp/backstage/pub/lib/python_lib/dxname/name_for_publish.yaml')
    afile = '/show/real/shot/CLU/CLU_0010/publish/camera/CLU_0010_main1_v001/CLU_0010_main1_v001.abc'
    pprint.pprint(root.Camera.decode(afile))
    
